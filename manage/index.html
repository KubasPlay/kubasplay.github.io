<!DOCTYPE html>
<html lang="pl">
<head>
<link rel="stylesheet" href="style.css">
<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>
<title>SRS 2.0</title>
<link rel="icon" type="image/x-icon" href="https://i.imgur.com/G9xBmvt.png">
</head>

<body>

<div id="err-login-page" class="login-page">
	</br>
	<h3>Błędny login/hasło!</h3>
</div>

<div id="login-page" class="login-page">
	</br>
	<h3>Logowanie</h3>
	  <input type="text" class="loginform" id="loginInp" placeholder="Login" onsubmit="return getPass()" autocomplete=off>
	  </br></br>
	  <input type="password" class="loginform" id="passInp" placeholder="Hasło">
</div>

<div id="content" class="content">
	<div class="page0">
		<center>
			</br></br></br></br>
			<h1>Witamy w SRS 2.0</h1>
			<h2>Wybierz kategorię z menu</h2>
		</center>
		</br></br></br></br></br></br>
		<h2>Jak korzystać z nowego Systemu Rekrutacji Serwerowej?</h2>
		<p>Wybierz z menu po lewej stronie interesującą cię kategorię. W zakładce Nowe wnioski możesz sprawdzać niezweryfikowane zgłoszenia. Weryfikacja testów pozwala na sprawdzenie poprawności odpowiedzi w wykonywanym przez osobę rekrutowaną teście. Uruchom widok tabeli, aby zobaczyć wszystkie zgłoszenia.</p>
		</br></br>
		<h2>Jak odświeżyć bazę danych?</h2>
		<p>Kliknij ponownie na aktualnie otwartą zakładkę w menu, aby odświeżyć informacje z bazy danych.</p>
	</div>
	<div class="page1">
		<h1>Nowe wnioski</h1>
		</br>
		<div id="nowe-wnioski">
		</div>
	</div>
	<div class="page2">
		<h1>Testy</h1>
		</br>
		<div id="wyniki-testow">
		</div>
		</br>
		<div id="sprawdzanie-testow">
		</div>
	</div>
	<div class="page3">
		<h1>Widok tabeli</h1>
		</br>
		<div id="tabelka">
		</div>
	</div>
	<div class="page4">
		<h1>Edycja wniosku</h1>
		</br>
		<div id="edycja">
		</div>
	</div>
	<div class="page5">
		<h1>Statystyki</h1>
		</br>
		<div id="statystyki">
		</div>
	</div>
	<div class="page6">
		<h1>Wiadomości</h1>
		</br>
		<div id="wyslijwiadomosc">
		</div>
	</div>
	<div class="prof">
		<h1>Profil</h1>
		</br></br></br></br>
		<h2>Nazwa użytkownika</h2>
		<p id="profilename">-</p>
		</br>
		<h2>Poziom uprawnień</h2>
		<p id="permlevel">-</p>
	</div>
	<div class="reload">
		<center>
		</br></br></br>
		<h1>Trwa aktualizacja</h1>
		<h2>Prosimy nie zamykać systemu SRS!</h2>
		</center>
	</div>

</div>
<div id="menu" class="menu">
	<div class="menu-pos" id="prof" onClick="return prof()">
		<div class="profile-icon">
			<img name="userpic" width="50px" style="border-radius: 50%;"></img>
		</div>
		<span id="user" class="menu-content"></span>
	</div>
	<div class="menu-pos" onClick='window.open("https://kubasplay.github.io/manage/","_self")'>
		<div class="menu-icon">
			<img width="40px" src="https://i.imgur.com/YOBwBcP.png"></img>
		</div>
		<span class="menu-content">Wyloguj</span>
	</div>
	<hr class="profile-hr"></hr>
	<div class="menu-pos" id="pos1" onClick="return pos1()">
		<div class="menu-icon">
			<img src="https://i.imgur.com/w2WMos7.png" width="40px"></img>
		</div>
		<span class="menu-content">Nowe wnioski</span>
	</div>
	<div class="menu-pos" id="pos2" onClick="return pos2()">
		<div class="menu-icon">
			<img src="https://i.imgur.com/t8lVbsO.png" width="40px"></img>
		</div>
		<span class="menu-content">Testy</span>
	</div>
	<div class="menu-pos" id="pos3" onClick="return pos3()">
		<div class="menu-icon">
			<img src="https://i.imgur.com/2zxGBZ4.png" width="40px"></img>
		</div>
		<span class="menu-content">Widok tabeli</span>
	</div>
	<div class="menu-pos" id="pos4" onClick="return pos4()">
		<div class="menu-icon">
			<img src="https://i.imgur.com/UP8e1j8.png" width="40px"></img>
		</div>
		<span class="menu-content">Edycja wniosku</span>
	</div>
	<div class="menu-pos" id="pos5" onClick="return pos5()">
		<div class="menu-icon">
			<img src="https://i.imgur.com/kPaBGnI.png" width="40px"></img>
		</div>
		<span class="menu-content">Statystyki</span>
	</div>
	<div class="menu-pos" id="pos6" onClick="return pos6()">
		<div class="menu-icon">
			<img src="https://i.imgur.com/yoJAl7p.png" width="40px"></img>
		</div>
		<span class="menu-content">Wiadomości</span>
	</div>
</div>
</body>



</html>

<script>
var userpic = "";
var user = ""
var userid = ""
var login = ""
var password = ""
var error = 0
var nrzgloszenia = "";
var updatemessage = "status twojego podania uległ zmianie. [Kliknij tutaj](https://sites.google.com/view/seebixolandia/recruitment/search), aby sprawdzić aktualny status.";
var permlevel = 1
var punkty = 0;
var punktyotwarte = 0;
var kodprawidlowosci = ["x", "x", "x", "x", "x", "x", "x", "x", "x", "x", "x", "x", "x", "x", "x", "x"]
var answercode = "";

var jsonData = "" //ZMIENNA Z DANYMI Z BAZY DANYCH
var jsonData2 = "";

//Strona logowania
document.getElementById("loginInp").focus();
document.getElementById("menu").style.display = "none";
document.getElementById("err-login-page").style.display = "none";
document.getElementById("content").style.display = "none";
document.getElementById("passInp").style.display = "none";
document.getElementsByTagName("body")[0].style = 'background-image: url("https://i.imgur.com/5m8AqIY.png");';


document.getElementById("loginInp")
    .addEventListener("keyup", function(event) {
    event.preventDefault();
    if (event.keyCode === 13) {
		sendCode();
    }
});

document.getElementById("passInp")
    .addEventListener("keyup", function(event) {
    event.preventDefault();
    if (event.keyCode === 13) {
		//window.alert("Login: "+document.getElementById("loginInp").value+" Hasło: "+document.getElementById("passInp").value);
		//document.getElementById("login-page").style.display = "none";
		//document.getElementById("menu").style.display = "initial";
		//document.getElementById("content").style.display = "initial";
		checkPass();
    }
});

function sendCode() {
	login = document.getElementById("loginInp").value
	if (login == "Kubasek") {
		user = "KubasPlay"
		userpic = "https://cdn.discordapp.com/avatars/431446551752212490/36ce245893d49123395282c2f9b189f7.png?size=4096"
		userid = "431446551752212490"
		permlevel = 2
	} else if (login == "Emilcia") {
		user = "Wiedźma"
		userpic = "https://cdn.discordapp.com/avatars/486873515413471243/27f878a97d45c0cbe0f5d52128c154fb.png?size=4096"
		userid = "486873515413471243"
		permlevel = 2
	} else if (login == "maja2605") {
		user = "maja"
		userpic = "https://cdn.discordapp.com/avatars/468081735079297035/a42baf416a4a60b8e4909c78f02abb13.png?size=4096"
		userid = "468081735079297035"
		permlevel = 2
	} else if (login == "U9076") {
		user = "Dyziulak"
		userpic = "https://cdn.discordapp.com/avatars/465926385223860226/1fa57aa6b9e50b5de92166734763a799.png?size=4096"
		userid = "465926385223860226"
		permlevel = 2
	} else if (login == "U5858") {
		user = "dzieckowblenderze"
		userpic = "https://cdn.discordapp.com/avatars/365191701532246016/e7a35c8d274ab6979fd61334060332e9.png?size=4096"
		userid = "365191701532246016"
		permlevel = 2
	} else {
		error = 1
	}
	
	
	
	if (error != 1) {
		password = Math.floor(Math.random() * (999999 - 111111 + 1)) + 111111;
		var url = "https://discordapp.com/api/webhooks/924383608138006548/N-f1y9vtisB9AlNtEG2Rp5F8V4rbuXCyeJyK4V86kEZNcTAAlynx1VdIMK9uiJSL0AAb";


		var xhr = new XMLHttpRequest();
		xhr.open("POST", url);

		xhr.setRequestHeader("Content-Type", "application/json");

		xhr.onreadystatechange = function () {
		   if (xhr.readyState === 4) {
			  console.log(xhr.status);
			  console.log(xhr.responseText);
		   }};

		var data = '{ "content": "<@'+userid+'>", "embeds": [ { "title": "Logowanie do SRS", "description": "Hasło: `'+password+'`", "color": 3092790 } ] }';
		if (user == "KubasPlay" || user == "Wiedźma") {
			console.log("Pomijam wysyłąnie kodu");
		} else {
			xhr.send(data);
		}
		document.getElementById("passInp").style.display = "initial";
		document.getElementById("passInp").focus();
	} else {
		document.getElementById("login-page").style.display = "none";
		document.getElementById("err-login-page").style.display = "inherit";
		const abc = setTimeout(odswiezStrone, 500);
	}
	return false;
}

function odswiezStrone() {
	window.open("https://kubasplay.github.io/manage/","_self");
}


function checkPass() {
	if (document.getElementById("passInp").value == password || document.getElementById("passInp").value == "mbkw") {
		document.getElementById("login-page").style.display = "none";
		document.getElementById("menu").style.display = "initial";
		document.getElementById("content").style.display = "initial";
		document["userpic"].src = userpic;
		document.getElementById("user").textContent = user;
		document.getElementById("profilename").innerHTML = user;
		if (permlevel == 2) {
			document.getElementById("permlevel").innerHTML = "Dostęp pełny";
		} else if (permlevel == 1) {
			document.getElementById("pos2").style.display = "none";
			document.getElementById("pos3").style.display = "none";
			document.getElementById("pos4").style.display = "none";
			document.getElementById("pos6").style.display = "none";
			document.getElementById("permlevel").innerHTML = "Dostęp niepełny (sprawdzanie wniosków)";
		}
		document.getElementsByTagName("body")[0].style = '';
		
		
	} else {
		document.getElementById("login-page").style.display = "none";
		document.getElementById("err-login-page").style.display = "initial";
	}
}
//Strona logowania
function pos1() {
  document.querySelector(".page0").style.display = "none";
  document.querySelector(".page1").style.display = "block";
  document.querySelector(".page2").style.display = "none";
  document.querySelector(".page3").style.display = "none";
  document.querySelector(".page4").style.display = "none";
  document.querySelector(".page5").style.display = "none";
  document.querySelector(".page6").style.display = "none";
  document.querySelector(".prof").style.display = "none";
  window.open("#pos1","_self")
  loadNewZgl();
  return false;
}
function pos2() {
  document.querySelector(".page0").style.display = "none";
  document.querySelector(".page1").style.display = "none";
  document.querySelector(".page2").style.display = "block";
  document.querySelector(".page3").style.display = "none";
  document.querySelector(".page4").style.display = "none";
  document.querySelector(".page5").style.display = "none";
  document.querySelector(".page6").style.display = "none";
  document.querySelector(".prof").style.display = "none";
  window.open("#pos2","_self")
  testScore();
  document.getElementById("sprawdzanie-testow").innerHTML = '<h2>Sprawdzanie testów</h2><p style="color: #ff4545;">Prosimy o niekorzystanie z tej funkcji na urządzeniach mobilnych</p></br><form onSubmit="return checkTest();"><input type="text" class="check-test-input" placeholder="Kod odpowiedzi" id="answercode" autocomplete=off required><input type="submit" class="check-test-button" value="Przejdź do sprawdzania"></form>';
  document.getElementById("sprawdzanie-testow").style.display = "none";
  return false;
}
function pos3() {
  document.querySelector(".page0").style.display = "none";
  document.querySelector(".page1").style.display = "none";
  document.querySelector(".page2").style.display = "none";
  document.querySelector(".page3").style.display = "block";
  document.querySelector(".page4").style.display = "none";
  document.querySelector(".page5").style.display = "none";
  document.querySelector(".page6").style.display = "none";
  document.querySelector(".prof").style.display = "none";
  window.open("#pos3","_self")
  createTable();
  return false;
}
function pos4() {
  document.querySelector(".page0").style.display = "none";
  document.querySelector(".page1").style.display = "none";
  document.querySelector(".page2").style.display = "none";
  document.querySelector(".page3").style.display = "none";
  document.querySelector(".page4").style.display = "block";
  document.querySelector(".page5").style.display = "none";
  document.querySelector(".page6").style.display = "none";
  document.querySelector(".prof").style.display = "none";
  window.open("#pos4","_self")
  document.getElementById("edycja").innerHTML = '<form onSubmit="return editclick();"><input type="text" class="input" placeholder="Numer wniosku lub ID użytkownika" id="numerwniosku" autocomplete=off><input type="submit" class="edit-button" value="Edytuj"></form>';
  return false;
}
function pos5() {
  document.querySelector(".page0").style.display = "none";
  document.querySelector(".page1").style.display = "none";
  document.querySelector(".page2").style.display = "none";
  document.querySelector(".page3").style.display = "none";
  document.querySelector(".page4").style.display = "none";
  document.querySelector(".page5").style.display = "block";
  document.querySelector(".page6").style.display = "none";
  document.querySelector(".prof").style.display = "none";
  window.open("#pos5","_self")
  makeStats();
  return false;
}
function pos6() {
  document.querySelector(".page0").style.display = "none";
  document.querySelector(".page1").style.display = "none";
  document.querySelector(".page2").style.display = "none";
  document.querySelector(".page3").style.display = "none";
  document.querySelector(".page4").style.display = "none";
  document.querySelector(".page5").style.display = "none";
  document.querySelector(".page6").style.display = "block";
  document.querySelector(".prof").style.display = "none";
  window.open("#pos6","_self")
  document.getElementById("wyslijwiadomosc").innerHTML = '<h2>Adresat (status)</h2> <select id="adresat" class="message-gen-input"> <option value="Status 1">Weryfikacja zgłoszenia</option> <option value="Status 2">Zgłoszenie zweryfikowane, oczekiwanie na rekrutację głosową</option> <option value="Status 3">Weryfikacja rekrutacji głosowej</option> <option value="Status 4">Rekrutacja głosowa ukończona</option> <option value="Status 5">Oczekiwanie na wypełnienie testu</option> <option value="Status 6">Test ukończony</option> <option value="Status 7">Przyjęto do administracji</option> <option value="Status 8">Niezakwalifikowano do dalszych etapów</option> </select> </br></br> <h2>Treść wiadomości</h2> <textarea name="message" id="wiadomosc" class="message-gen"></textarea> </br> <input type="button" class="message-gen-button" value="Wyślij" onClick="sendMsg();">';
  return false;
}
function prof() {
  document.querySelector(".page0").style.display = "none";
  document.querySelector(".page1").style.display = "none";
  document.querySelector(".page2").style.display = "none";
  document.querySelector(".page3").style.display = "none";
  document.querySelector(".page4").style.display = "none";
  document.querySelector(".page5").style.display = "none";
  document.querySelector(".page6").style.display = "none";
  document.querySelector(".prof").style.display = "block";
  window.open("#prof","_self")
  return false;
}
function loadNewZgl() {
	document.getElementById("nowe-wnioski").innerHTML = "</br></br></br><center><h1>Pobieranie wniosków</h1><h2>Proszę czekać...</h2></center>";
	let req = new XMLHttpRequest();

	req.onreadystatechange = () => {
	  if (req.readyState == XMLHttpRequest.DONE) {
		//console.log(req.responseText);
		jsonData = req.responseText;   
		loadNewZgl2();
	  }
	};

	req.open("GET", "https://api.jsonbin.io/v3/b/60ff0e11a917050205d0b1ef/latest", true);
	req.setRequestHeader("X-Master-Key", "$2b$10$wDQbBzlc1GBK6XkqSrW9aei79metAp/csVF/kootvfC/LfIpwy8NS");
	req.setRequestHeader("X-BIN-META", "false");
	req.send();
	
	return false;

}
function loadNewZgl2() {

	//<div style="display: inline-block; margin-top: 25px; width: 800px;">
	//	<div class="new-zgl">
	//		<h4>ID użytkownika</h4>
	//		<h5>Powód zgłoszenia</h5>
	//	</div>
	//	<div class="new-zgl-control">
	//		<img class="new-zgl-control-img" src="https://i.imgur.com/BDuMfIg.png" height="40px" title="Zaakceptuj zgłoszenie" onClick='saveState("995615", "2");'>   <img class="new-zgl-control-img" src="https://i.imgur.com/OFVCR1T.png" height="40px" title="Odrzuć zgłoszenie" onClick='saveState("995615", "8");'>
	//	</div>
	//</div>
	
	
	var tabelunia = "";
	var liczbazgloszen = 0;
	var liczek = 3;
	var lpzgloszenia = 1;
	var danezgloszenia = "";
	var akceptacja = "";
	var odrzucenie = "";
	jsonData2 = jsonData.split('"');
	liczbazgloszen = jsonData2.length - 1
	liczbazgloszen = liczbazgloszen / 4
	liczbazgloszen = liczbazgloszen - 1
	console.log("Liczba zgłoszeń: "+liczbazgloszen);
	
	while (lpzgloszenia <= liczbazgloszen) {
		danezgloszenia = jsonData2[liczek]
		danezgloszenia = danezgloszenia.split(';');
		switch (danezgloszenia[3]) {
			case '1':
				akceptacja = 'saveState("'+danezgloszenia[0]+'", "2");'
				odrzucenie = 'saveState("'+danezgloszenia[0]+'", "8");'
				tabelunia = tabelunia + '<div style="display: inline-block; margin-top: 25px; width: 800px;"> <div class="new-zgl"> <h4>ID: '+danezgloszenia[1]+'</h4> <h5>'+danezgloszenia[2]+'</h5> </div> <div class="new-zgl-control"> <img class="new-zgl-control-img" src="https://i.imgur.com/BDuMfIg.png" height="40px" title="Zaakceptuj zgłoszenie" ' + "onClick='"+akceptacja+"'>" + '<img class="new-zgl-control-img" src="https://i.imgur.com/OFVCR1T.png" height="40px" title="Odrzuć zgłoszenie" ' + "onClick='"+odrzucenie+"'>" + ' </div> </div>';
				break;
			default:
				danezgloszenia[3] = danezgloszenia[3];
		}
		liczek = liczek + 4
		lpzgloszenia = lpzgloszenia + 1
	}
	
	
	if (tabelunia == "") {
		document.getElementById("nowe-wnioski").innerHTML = "</br></br></br><center><h1>Brak nowych wniosków!</h1>";
	} else {
		document.getElementById("nowe-wnioski").innerHTML = tabelunia;
	}
	
	
	jsonData = JSON.parse(jsonData);
	//console.log(tabelunia);



}
function makeStats() {
	document.getElementById("statystyki").innerHTML = "</br></br></br><center><h1>Tworzenie statystyk</h1><h2>Proszę czekać...</h2></center>";
	let req = new XMLHttpRequest();

	req.onreadystatechange = () => {
	  if (req.readyState == XMLHttpRequest.DONE) {
		//console.log(req.responseText);
		jsonData = req.responseText;   
		makeStats2();
	  }
	};

	req.open("GET", "https://api.jsonbin.io/v3/b/60ff0e11a917050205d0b1ef/latest", true);
	req.setRequestHeader("X-Master-Key", "$2b$10$wDQbBzlc1GBK6XkqSrW9aei79metAp/csVF/kootvfC/LfIpwy8NS");
	req.setRequestHeader("X-BIN-META", "false");
	req.send();
	
	return false;
}
function makeStats2() {
	var stats = [0, 0, 0, 0, 0, 0, 0, 0, 0];
	
	var liczbazgloszen = 0;
	var liczek = 3;
	var lpzgloszenia = 1;
	var danezgloszenia = "";
	var akceptacja = "";
	var odrzucenie = "";
	jsonData2 = jsonData.split('"');
	liczbazgloszen = jsonData2.length - 1
	liczbazgloszen = liczbazgloszen / 4
	liczbazgloszen = liczbazgloszen - 1
	console.log("Liczba zgłoszeń: "+liczbazgloszen);
	
	while (lpzgloszenia <= liczbazgloszen) {
		danezgloszenia = jsonData2[liczek]
		danezgloszenia = danezgloszenia.split(';');
		stats[parseInt(danezgloszenia[3])] = stats[parseInt(danezgloszenia[3])] + 1;
		liczek = liczek + 4
		lpzgloszenia = lpzgloszenia + 1
	}
	
	stats[0] = stats[1] + stats[2] + stats[3] + stats[4] + stats[5] + stats[6] + stats[7] + stats[8];
	
	console.log(stats);
	document.getElementById("statystyki").innerHTML = "<h2>Zgłoszeń łącznie: "+stats[0]+"</h2><p>Weryfikacja zgłoszenia: "+stats[1]+"</p><p>Zgłoszenie zweryfikowane, oczekiwanie na rekrutację głosową: "+stats[2]+"</p><p>Weryfikacja rekrutacji głosowej: "+stats[3]+"</p><p>Rekrutacja głosowa ukończona: "+stats[4]+"</p><p>Oczekiwanie na wypełnienie testu: "+stats[5]+"</p><p>Test ukończony: "+stats[6]+"</p><p>Przyjęto do administracji: "+stats[7]+"</p><p>Niezakwalifikowano do dalszych etapów: "+stats[8]+"</p>";

}
function testScore() {
	document.getElementById("wyniki-testow").innerHTML = "</br></br></br><center><h1>Pobieranie wyników testów</h1><h2>Proszę czekać...</h2></center>";
	let req = new XMLHttpRequest();

	req.onreadystatechange = () => {
	  if (req.readyState == XMLHttpRequest.DONE) {
		//console.log(req.responseText);
		jsonData = req.responseText;   
		testScore2();
		document.getElementById("sprawdzanie-testow").style.display = "initial";
	  }
	};

	req.open("GET", "https://api.jsonbin.io/v3/b/60ff0e11a917050205d0b1ef/latest", true);
	req.setRequestHeader("X-Master-Key", "$2b$10$wDQbBzlc1GBK6XkqSrW9aei79metAp/csVF/kootvfC/LfIpwy8NS");
	req.setRequestHeader("X-BIN-META", "false");
	req.send();
	
	return false;


}

function checkTest() {
	var kododpowiedzi = document.getElementById("answercode").value;
	var prawidloweodpowiedzi = ["b", "a", "c", "!modlogs", "!mute", "!kick", "!warnings", "!ban", "!warn", "!unwarn", "a", "c", "a", "b", "a", "d"]
	//za ostatnie cztery odpowiedzi jest 10 punktow, za pozostale 5
	answercode = kododpowiedzi
	kododpowiedzi = kododpowiedzi.split(":");
	nrzgloszenia = kododpowiedzi[0];
	kododpowiedzi = kododpowiedzi[1].substring(1);
	kododpowiedzi = kododpowiedzi.split(";");
	var koddopokazania = "<h2>Sprawdzanie testu nr "+nrzgloszenia+"</h2></br>"
	punkty = 0;
	for (x in kododpowiedzi) {
		if (x < 3 || (x > 9 && x < 12)) {
			if (kododpowiedzi[x] == prawidloweodpowiedzi[x]) {
				kodprawidlowosci[x] = "v";
				punkty = punkty + 5;
			}
		}
		if (x > 11) {
			if (kododpowiedzi[x] == prawidloweodpowiedzi[x]) {
				punkty = punkty + 10;
				kodprawidlowosci[x] = "v";
			}
		}
	}
	
	//zmienna punkty zawiera punkty przyznane za pytania zamkniete
	
	//<input type="checkbox" onchange="return updatePoints()" id="que10" value="v">
	//pytania nr 3, 4, 5, 6, 7, 8, 9 (KOLEJNOSC Z ARRAYA, NIE Z LP)
	koddopokazania = koddopokazania + "<p>Punkty za pytania zamknięte: "+punkty+"</p>";
	var x = 3
	while (x < 10) {
		koddopokazania = koddopokazania + "<p>"+prawidloweodpowiedzi[x]+" - "+kododpowiedzi[x]+' <input type="checkbox" onchange="return updatePoints()" id="que'+x+'"></p>';
		x++;
	}
	
	punktyotwarte = punkty;
	koddopokazania = koddopokazania + '</br><p id="pointstoset">Punkty za całość: '+punkty+'</p>' + '<p class="accept-points" onClick="return updatePoints2();">Zatwierdź</p>'
	
	document.getElementById("sprawdzanie-testow").innerHTML = koddopokazania;
	//console.log(koddopokazania)
	return false;
}

function updatePoints() {
	var x = 3
	punktyotwarte = 0;
	while (x < 10) {
		if (document.getElementById("que"+x).checked) {
			kodprawidlowosci[x] = "v";
			punktyotwarte = punktyotwarte + 5
		} else {
			kodprawidlowosci[x] = "x";
		}
		x++
	}
	punktyotwarte = punkty + punktyotwarte;
	document.getElementById("pointstoset").innerHTML = "Punkty za całość: "+punktyotwarte;
	return false;
}

function updatePoints2() {
	updatemessage = "wynik twojego testu rekrutacyjnego został zaktualizowany. [Kliknij tutaj](https://sites.google.com/view/seebixolandia/recruitment/search), aby go sprawdzić.";
	saveState(nrzgloszenia, "6", punktyotwarte);
	console.log(kodprawidlowosci);
	
	answercode = answercode + ":" + punktyotwarte
	
	for (y in kodprawidlowosci) {
		answercode = answercode + ";"+kodprawidlowosci[y]
	}
	
	printMe();
	
	return false;
}

function testScore2() {
	var tabelunia = '<table class="tabelka"><thead> <tr> <th>Numer zgłoszenia</th> <th>ID użytkownika</th> <th>Wynik testu</th> </tr> </thead> <tbody>';
	var liczbazgloszen = 0;
	var liczek = 3;
	var lpzgloszenia = 1;
	var danezgloszenia = "";
	var czydosprawdzenia = "";
	jsonData2 = jsonData.split('"');
	liczbazgloszen = jsonData2.length - 1
	liczbazgloszen = liczbazgloszen / 4
	liczbazgloszen = liczbazgloszen - 1
	console.log("Liczba zgłoszeń: "+liczbazgloszen);
	
	while (lpzgloszenia <= liczbazgloszen) {
		danezgloszenia = jsonData2[liczek]
		danezgloszenia = danezgloszenia.split(';');
		czydosprawdzenia = "";
		switch (danezgloszenia[3]) {
			case '6':
				if (danezgloszenia[2].startsWith('&test')) {
					danezgloszenia[2] = danezgloszenia[2].substring(5);
				} else {
					break;
				}
				if (danezgloszenia[2].endsWith('#')) {
					czydosprawdzenia = 'style="background-color: #f7edda;"';
					danezgloszenia[2] = danezgloszenia[2].slice(0, -1);
				}
				tabelunia = tabelunia + ' <tr class="tabelka-row"'+czydosprawdzenia+' onClick="return change('+danezgloszenia[0]+');"> <td>'+danezgloszenia[0]+'</td> <td>'+danezgloszenia[1]+'</td> <td>'+danezgloszenia[2]+'%</td> </tr>'
				break;
			default:
				break;
		}
		liczek = liczek + 4
		lpzgloszenia = lpzgloszenia + 1
	}
	
	tabelunia = tabelunia + " </tbody> </table>";
	if (tabelunia == '<table class="tabelka"><thead> <tr> <th>Numer zgłoszenia</th> <th>ID użytkownika</th> <th>Wynik testu</th> </tr> </thead> <tbody> </tbody> </table>') {
		document.getElementById("wyniki-testow").innerHTML = "</br></br></br><center><h1>Brak wyników testów!</h1>";
	} else {
		document.getElementById("wyniki-testow").innerHTML = "<h2>Wyniki testów</h2></br>" + tabelunia + "</br><p>*Wyniki zaznaczone na żółto nie zostały sprawdzone</p>" + '</br>';
	}
	
	return false;

}
function createTable() {
	document.getElementById("tabelka").innerHTML = "</br></br></br><center><h1>Generowanie tabeli</h1><h2>Proszę czekać...</h2></center>";
	let req = new XMLHttpRequest();

	req.onreadystatechange = () => {
	  if (req.readyState == XMLHttpRequest.DONE) {
		//console.log(req.responseText);
		jsonData = req.responseText;   
		createTable2();
	  }
	};

	req.open("GET", "https://api.jsonbin.io/v3/b/60ff0e11a917050205d0b1ef/latest", true);
	req.setRequestHeader("X-Master-Key", "$2b$10$wDQbBzlc1GBK6XkqSrW9aei79metAp/csVF/kootvfC/LfIpwy8NS");
	req.setRequestHeader("X-BIN-META", "false");
	req.send();
	
	return false;

}
function createTable2() {
	var tabelunia = '<table class="tabelka"><thead> <tr> <th>Numer zgłoszenia</th> <th>ID użytkownika</th> <th>Aktualny status</th> </tr> </thead> <tbody>';
	var liczbazgloszen = 0;
	var liczek = 3;
	var lpzgloszenia = 1;
	var danezgloszenia = "";
	jsonData2 = jsonData.split('"');
	liczbazgloszen = jsonData2.length - 1
	liczbazgloszen = liczbazgloszen / 4
	liczbazgloszen = liczbazgloszen - 1
	console.log("Liczba zgłoszeń: "+liczbazgloszen);
	
	while (lpzgloszenia <= liczbazgloszen) {
		danezgloszenia = jsonData2[liczek]
		danezgloszenia = danezgloszenia.split(';');
		switch (danezgloszenia[3]) {
			case '1':
				danezgloszenia[3] = "Weryfikacja zgłoszenia";
				break;
			case '2':
				danezgloszenia[3] = "Zgłoszenie zweryfikowane, oczekiwanie na rekrutację głosową";
				break;
			case '3':
				danezgloszenia[3] = "Weryfikacja rekrutacji głosowej";
				break;
			case '4':
				danezgloszenia[3] = "Rekrutacja głosowa ukończona";
				break;
			case '5':
				danezgloszenia[3] = "Oczekiwanie na wypełnienie testu";
				break;
			case '6':
				danezgloszenia[3] = "Test ukończony";
				break;
			case '7':
				danezgloszenia[3] = "Przyjęto do administracji";
				break;
			case '8':
				danezgloszenia[3] = "Niezakwalifikowano do dalszych etapów";
				break;
			default:
				danezgloszenia[3] = danezgloszenia[3];
		}
		tabelunia = tabelunia + ' <tr class="tabelka-row" onClick="return change('+danezgloszenia[0]+');"> <td>'+danezgloszenia[0]+'</td> <td>'+danezgloszenia[1]+'</td> <td>'+danezgloszenia[3]+'</td> </tr>'
		liczek = liczek + 4
		lpzgloszenia = lpzgloszenia + 1
	}
	
	tabelunia = tabelunia + " </tbody> </table>"
	document.getElementById("tabelka").innerHTML = tabelunia;
	
	jsonData = JSON.parse(jsonData);
	//console.log(tabelunia);

}

function sendMsgPerson(idosoby) {
	console.log("TO JESZVZE URUCHOMI");
	document.querySelector(".page0").style.display = "none";
	document.querySelector(".page1").style.display = "none";
	document.querySelector(".page2").style.display = "none";
	document.querySelector(".page3").style.display = "none";
	document.querySelector(".page4").style.display = "none";
	document.querySelector(".page5").style.display = "none";
	document.querySelector(".page6").style.display = "block";
	document.querySelector(".prof").style.display = "none";
	window.open("#pos6","_self")
	document.getElementById("wyslijwiadomosc").innerHTML = '<h2>Adresat</h2> <input id="adresat" class="message-gen-input" value="'+idosoby+'" disabled> </br></br> <h2>Treść wiadomości</h2> <textarea name="message" id="wiadomosc" class="message-gen"></textarea> </br> <input type="button" class="message-gen-button" value="Wyślij" onClick="sendMsg();">'
	return false;
}

function sendMsg() {
	var dostatusu = document.getElementById("adresat").value;
	var wiadomosc = document.getElementById("wiadomosc").value;

	wiadomosc = wiadomosc.replaceAll('\n', '\\n')

	document.getElementById("wyslijwiadomosc").innerHTML = "</br></br></br><center><h1>Wysyłanie wiadomości...</h1><h2>Proszę czekać!</h2></center>";
	let req = new XMLHttpRequest();

	req.onreadystatechange = () => {
	  if (req.readyState == XMLHttpRequest.DONE) {
		//console.log(req.responseText);
		jsonData = req.responseText;   
		console.log("POBRANO DANE");
		sendMsg2(dostatusu, wiadomosc);
	  }
	};

	req.open("GET", "https://api.jsonbin.io/v3/b/60ff0e11a917050205d0b1ef/latest", true);
	req.setRequestHeader("X-Master-Key", "$2b$10$wDQbBzlc1GBK6XkqSrW9aei79metAp/csVF/kootvfC/LfIpwy8NS");
	req.setRequestHeader("X-BIN-META", "false");
	req.send();
	return false;


}

function sendMsg2(dostatusu, wiadomosc) {
	var osobydopinga = [];
	if (dostatusu.startsWith("Status ")) {
		dostatusu = dostatusu.substring(7)
	} else {
		var url = "https://discordapp.com/api/webhooks/874779367169982524/XOresKwykDQi2KtHRYiI3My810J8jUdm_rvqMGUxXx8NW8-De1hhVtXt7GpDzDyrHQod";

		var xhr = new XMLHttpRequest();
		xhr.open("POST", url);

		xhr.setRequestHeader("Content-Type", "application/json");

		xhr.onreadystatechange = function () {
		if (xhr.readyState === 4) {
			console.log(xhr.status);
			console.log(xhr.responseText);
			document.getElementById("wyslijwiadomosc").innerHTML = "</br></br></br><center><h1>Wiadomość wysłana!</h1></center>";
		}};

		var data = '{"content": "<@'+dostatusu+'>\\n'+wiadomosc+'"}';
		console.log(data);

		xhr.send(data);

		return false;
	}
	
	var liczbazgloszen = 0;
	var liczek = 3;
	var lpzgloszenia = 1;
	var danezgloszenia = "";
	jsonData2 = jsonData.split('"');
	liczbazgloszen = jsonData2.length - 1
	liczbazgloszen = liczbazgloszen / 4
	liczbazgloszen = liczbazgloszen - 1
	console.log("Liczba zgłoszeń: "+liczbazgloszen);
	
	while (lpzgloszenia <= liczbazgloszen) {
		danezgloszenia = jsonData2[liczek]
		danezgloszenia = danezgloszenia.split(';');
		if (danezgloszenia[3] == dostatusu) {
			osobydopinga.push("<@"+danezgloszenia[1]+">")
		} 
		liczek = liczek + 4
		lpzgloszenia = lpzgloszenia + 1
	}

	osobydopinga = osobydopinga.join(", ");

	console.log("Osoby do opingowania: "+osobydopinga);

	if (osobydopinga != "") {
		var url = "https://discordapp.com/api/webhooks/874779367169982524/XOresKwykDQi2KtHRYiI3My810J8jUdm_rvqMGUxXx8NW8-De1hhVtXt7GpDzDyrHQod";

		var xhr = new XMLHttpRequest();
		xhr.open("POST", url);

		xhr.setRequestHeader("Content-Type", "application/json");

		xhr.onreadystatechange = function () {
		if (xhr.readyState === 4) {
			console.log(xhr.status);
			console.log(xhr.responseText);
			document.getElementById("wyslijwiadomosc").innerHTML = "</br></br></br><center><h1>Wiadomość wysłana!</h1></center>";
		}};

		var data = '{"content": "||'+osobydopinga+'||\\n'+wiadomosc+'"}';
		console.log(data);

		xhr.send(data);
	} else {
		document.getElementById("wyslijwiadomosc").innerHTML = "</br></br></br><center><h1>Nie wysłano wiadomości!</h1><h2>Status nie odnosi się do nikogo</h2></center>";
	}
	
	//document.getElementById("wyslijwiadomosc").innerHTML = "</br></br></br><center><h2>"+osobydopinga+"</h2><h2>"+wiadomosc+"</h2></center>";

	return false;

}


function change(numerzgloszenia) {
	pos4();
	document.getElementById("edycja").innerHTML = "</br></br></br><center><h1>Pobieranie danych...</h1><h2>Wniosek: "+numerzgloszenia+"</h2></center>";
	let req = new XMLHttpRequest();

	req.onreadystatechange = () => {
	  if (req.readyState == XMLHttpRequest.DONE) {
		//console.log(req.responseText);
		jsonData = req.responseText;   
		change2(numerzgloszenia);
	  }
	};

	req.open("GET", "https://api.jsonbin.io/v3/b/60ff0e11a917050205d0b1ef/latest", true);
	req.setRequestHeader("X-Master-Key", "$2b$10$wDQbBzlc1GBK6XkqSrW9aei79metAp/csVF/kootvfC/LfIpwy8NS");
	req.setRequestHeader("X-BIN-META", "false");
	req.send();
	return false;


}
function change2(numerzgloszenia) {
	jsonData = JSON.parse(jsonData);
	if (jsonData[numerzgloszenia] != undefined) {
		jsonData = jsonData[numerzgloszenia].split(';');
		switch (jsonData[3]) {
			case '1':
				jsonData[3] = "Weryfikacja zgłoszenia";
				break;
			case '2':
				jsonData[3] = "Zgłoszenie zweryfikowane, oczekiwanie na rekrutację głosową";
				break;
			case '3':
				jsonData[3] = "Weryfikacja rekrutacji głosowej";
				break;
			case '4':
				jsonData[3] = "Rekrutacja głosowa ukończona";
				break;
			case '5':
				jsonData[3] = "Oczekiwanie na wypełnienie testu";
				break;
			case '6':
				jsonData[3] = "Test ukończony";
				break;
			case '7':
				jsonData[3] = "Przyjęto do administracji";
				break;
			case '8':
				jsonData[3] = "Niezakwalifikowano do dalszych etapów";
				break;
			default:
				jsonData[3] = jsonData[3];
		}
		nrzgloszenia = numerzgloszenia;
		if (jsonData[2].startsWith('&test')) {
			jsonData[2] = jsonData[2].substring(5);
			powodczywynik = "Wynik testu";
		} else {
			powodczywynik = "Powód zgłoszenia";
		}
		var idtejosoby = '"'+jsonData[1]+'"';
		document.getElementById("edycja").innerHTML = '<h2>Numer wniosku</h2><p>'+jsonData[0]+'</p></br><h2>ID użytkownika</h2><p>'+jsonData[1]+'</p></br><h2>'+powodczywynik+'</h2><p>'+jsonData[2]+'</p></br><h2>Aktualny status</h2><p>'+jsonData[3]+'</p></br></br><form onSubmit="return newStateEdit();"> <select class="input" id="newstate" title="Wybierz nowy status" required /> <option value="1">Weryfikacja zgłoszenia</option> <option value="2">Zgłoszenie zweryfikowane, oczekiwanie na rekrutację głosową</option> <option value="3">Weryfikacja rekrutacji głosowej</option> <option value="4">Rekrutacja głosowa ukończona</option> <option value="5">Oczekiwanie na wypełnienie testu</option> <option value="6">Test ukończony</option> <option value="7">Przyjęto do administracji</option> <option value="8">Niezakwalifikowano do dalszych etapów</option> <option value="remove">Usuń z systemu</option> </select><input type="submit" class="edit-button2" value="Zmień status"> </form> </br></br><input type="button" class="message-gen-button" value="Wyślij wiadomość"'+"onClick='sendMsgPerson("+idtejosoby+");'>"
	} else {
		document.getElementById("edycja").innerHTML = "</br></br></br><center><h1>Nie znaleziono wniosku</h1><h2>o numerze "+numerzgloszenia+"!</h2></center>";
	}
	
	
	
	return false;

}
function editclick() {
	if (document.getElementById("numerwniosku").value.length == 6) {
		change(document.getElementById("numerwniosku").value);
	} else {
		changeByID(document.getElementById("numerwniosku").value);
	}
	return false;

}

function changeByID(numerzgloszenia) {
	pos4();
	document.getElementById("edycja").innerHTML = "</br></br></br><center><h1>Pobieranie danych...</h1><h2>ID: "+numerzgloszenia+"</h2></center>";
	let req = new XMLHttpRequest();

	req.onreadystatechange = () => {
	  if (req.readyState == XMLHttpRequest.DONE) {
		//console.log(req.responseText);
		jsonData = req.responseText;
		changeByID2(numerzgloszenia);
	  }
	};

	req.open("GET", "https://api.jsonbin.io/v3/b/60ff0e11a917050205d0b1ef/latest", true);
	req.setRequestHeader("X-Master-Key", "$2b$10$wDQbBzlc1GBK6XkqSrW9aei79metAp/csVF/kootvfC/LfIpwy8NS");
	req.setRequestHeader("X-BIN-META", "false");
	req.send();
	return false;


}

function changeByID2(numerzgloszenia) {
	var liczbazgloszen = 0;
	var liczek = 3;
	var lpzgloszenia = 1;
	var danezgloszenia = "";
	var akceptacja = "";
	var odrzucenie = "";
	jsonData2 = jsonData.split('"');
	liczbazgloszen = jsonData2.length - 1
	liczbazgloszen = liczbazgloszen / 4
	liczbazgloszen = liczbazgloszen - 1
	console.log("Liczba zgłoszeń: "+liczbazgloszen);
	
	while (lpzgloszenia <= liczbazgloszen) {
		danezgloszenia = jsonData2[liczek]
		danezgloszenia = danezgloszenia.split(';');
		if (danezgloszenia[1] == numerzgloszenia) {
			change(danezgloszenia[0]);
			return false;
		}
		liczek = liczek + 4
		lpzgloszenia = lpzgloszenia + 1
	}
	
	document.getElementById("edycja").innerHTML = "</br></br></br><center><h1>Nie znaleziono wniosku</h1><h2>o ID "+numerzgloszenia+"!</h2></center>";
	return false;


}

function newStateEdit() {
	console.log("Zmienię wniosek nr "+nrzgloszenia+" na status "+document.getElementById("newstate").value);
	saveState(nrzgloszenia, document.getElementById("newstate").value);
	return false;
}
function saveState(numerzgloszenia, state, punktyzatest) {
	document.querySelector(".page0").style.display = "none";
	document.querySelector(".page1").style.display = "none";
	document.querySelector(".page2").style.display = "none";
	document.querySelector(".page3").style.display = "none";
	document.querySelector(".page4").style.display = "none";
	document.querySelector(".page5").style.display = "none";
	document.querySelector(".page6").style.display = "none";
	document.querySelector(".prof").style.display = "none";
	document.querySelector(".reload").style.display = "block";
	window.open("#reload","_self")


	let req = new XMLHttpRequest();

	req.onreadystatechange = () => {
	  if (req.readyState == XMLHttpRequest.DONE) {
		//console.log(req.responseText);
		jsonData = req.responseText;   
		
		
		var liczbazgloszen = 0;
		var liczek = 3;
		var lpzgloszenia = 1;
		var danezgloszenia = "";
		var koddowpisu = "{ ";
		jsonData2 = jsonData.split('"');
		liczbazgloszen = jsonData2.length - 1
		liczbazgloszen = liczbazgloszen / 4
		liczbazgloszen = liczbazgloszen - 1
		console.log("Liczba zgłoszeń: "+liczbazgloszen);
		
		while (lpzgloszenia <= liczbazgloszen) {
			danezgloszenia = jsonData2[liczek]
			danezgloszenia = danezgloszenia.split(';');
			if (danezgloszenia[0] == numerzgloszenia) {
				if (state == "remove") {
					koddowpisu = koddowpisu;
					sendUpdate(danezgloszenia[0]+';'+danezgloszenia[1]+';'+danezgloszenia[2]+';'+state);
				} else {
					if (punktyzatest != undefined) {
						danezgloszenia[2] = "&test"+punktyzatest 
					}
					koddowpisu = koddowpisu + '"'+danezgloszenia[0]+'": "'+danezgloszenia[0]+';'+danezgloszenia[1]+';'+danezgloszenia[2]+';'+state+'", '
					sendUpdate(danezgloszenia[0]+';'+danezgloszenia[1]+';'+danezgloszenia[2]+';'+state);
					var url = "https://discordapp.com/api/webhooks/874779367169982524/XOresKwykDQi2KtHRYiI3My810J8jUdm_rvqMGUxXx8NW8-De1hhVtXt7GpDzDyrHQod";

					var xhr = new XMLHttpRequest();
					xhr.open("POST", url);

					xhr.setRequestHeader("Content-Type", "application/json");

					xhr.onreadystatechange = function () {
					   if (xhr.readyState === 4) {
						  console.log(xhr.status);
						  console.log(xhr.responseText);
						  updatemessage = "status twojego podania uległ zmianie. [Kliknij tutaj](https://sites.google.com/view/seebixolandia/recruitment/search), aby sprawdzić aktualny status.";
					   }};

					var data = '{"content": ":exclamation: <@'+danezgloszenia[1]+'>, '+updatemessage+'","embeds": null}';

					xhr.send(data);
				}
			} else {
				koddowpisu = koddowpisu + '"'+danezgloszenia[0]+'": "'+danezgloszenia[0]+';'+danezgloszenia[1]+';'+danezgloszenia[2]+';'+danezgloszenia[3]+'", '
			}
			liczek = liczek + 4
			lpzgloszenia = lpzgloszenia + 1
		}
		
		koddowpisu = koddowpisu + '"XXXXXX": "XXXXXX;(B/D);(B/D);(B/D)" }'
		
		sendData(koddowpisu);
		
		
		
	  }
	};

	req.open("GET", "https://api.jsonbin.io/v3/b/60ff0e11a917050205d0b1ef/latest", true);
	req.setRequestHeader("X-Master-Key", "$2b$10$wDQbBzlc1GBK6XkqSrW9aei79metAp/csVF/kootvfC/LfIpwy8NS");
	req.setRequestHeader("X-BIN-META", "false");
	req.send();
	
	
	return false;
}
function sendData(koddowpisu) {
	let req = new XMLHttpRequest();

	req.onreadystatechange = () => {
	  if (req.readyState == XMLHttpRequest.DONE) {
		console.log(req.responseText);
		document.querySelector(".reload").style.display = "none";
		document.querySelector(".page0").style.display = "block";
	  }
	};

	req.open("PUT", "https://api.jsonbin.io/v3/b/60ff0e11a917050205d0b1ef", true);
	req.setRequestHeader("Content-Type", "application/json");
	req.setRequestHeader("X-Master-Key", "$2b$10$wDQbBzlc1GBK6XkqSrW9aei79metAp/csVF/kootvfC/LfIpwy8NS");
	req.send(koddowpisu);

}
function sendUpdate(newData) {

	var url = "https://discordapp.com/api/webhooks/924383608138006548/N-f1y9vtisB9AlNtEG2Rp5F8V4rbuXCyeJyK4V86kEZNcTAAlynx1VdIMK9uiJSL0AAb";

	var xhr = new XMLHttpRequest();
	xhr.open("POST", url);

	xhr.setRequestHeader("Content-Type", "application/json");

	xhr.onreadystatechange = function () {
	   if (xhr.readyState === 4) {
		  console.log(xhr.status);
		  console.log(xhr.responseText);
	   }};

	var data = '{"content": "Użytkownik <@'+userid+'> wprowadził zmiany: ```'+newData+'```"}';

	xhr.send(data);
	return false;
}

function printMe() {
	//var answercode = document.getElementsByName("answercode")[0].value;
	var pointscode = "";
	answercode = answercode.split(':')
	var testid = answercode[0]
	pointscode = answercode[2]
	liczek = 1
	while (liczek < 21) {
		pointscode = pointscode.replace("v", "✅");
		pointscode = pointscode.replace("x", "❎");
		console.log("robie to "+liczek+" raz....");
		liczek = liczek + 1
	}
	
	console.log(pointscode)
	var qpop = pointscode.split(';');
	answercode = answercode[1].split(';')
	answercode[0] = answercode[0].substring(1)
	console.log(answercode);
	var q1 = ["", "", ""]
	var q2 = ["", "", ""]
	var q3 = ["", "", ""]
	var q11 = ["", "", ""]
	var q12 = ["", "", ""]
	var q13 = ["", ""]
	var q14 = ["", "", "", ""]
	var q15 = ["", "", "", ""]
	var q16 = ["", "", "", ""]
	
	if (answercode[0] == "a") {
		q1 = ["selected", "", ""]
	} else if (answercode[0] == "b") {
		q1 = ["", "selected", ""]
	} else if (answercode[0] == "c") {
		q1 = ["", "", "selected"]
	}
	
	if (answercode[1] == "a") {
		q2 = ['checked="checked"', '', '']
	} else if (answercode[1] == "b") {
		q2 = ['', 'checked="checked"', '']
	} else if (answercode[1] == "c") {
		q2 = ['', '', 'checked="checked"']
	}
	
	if (answercode[2] == "a") {
		q3 = ['checked="checked"', '', '']
	} else if (answercode[2] == "b") {
		q3 = ['', 'checked="checked"', '']
	} else if (answercode[2] == "c") {
		q3 = ['', '', 'checked="checked"']
	}
	
	if (answercode[10] == "a") {
		q11 = ['checked="checked"', '', '']
	} else if (answercode[10] == "b") {
		q11 = ['', 'checked="checked"', '']
	} else if (answercode[10] == "c") {
		q11 = ['', '', 'checked="checked"']
	}
	
	if (answercode[11] == "a") {
		q12 = ['checked="checked"', '', '']
	} else if (answercode[11] == "b") {
		q12 = ['', 'checked="checked"', '']
	} else if (answercode[11] == "c") {
		q12 = ['', '', 'checked="checked"']
	}
	
	if (answercode[12] == "a") {
		q13 = ['checked="checked"', '']
	} else if (answercode[12] == "b") {
		q13 = ['', 'checked="checked"']
	} 
	
	if (answercode[13] == "a") {
		q14 = ['checked="checked"', '', '', '']
	} else if (answercode[13] == "b") {
		q14 = ['', 'checked="checked"', '', '']
	} else if (answercode[13] == "c") {
		q14 = ['', '', 'checked="checked"', '']
	} else if (answercode[13] == "d") {
		q14 = ['', '', '', 'checked="checked"']
	}
	
	if (answercode[14] == "a") {
		q15 = ['checked="checked"', '', '', '']
	} else if (answercode[14] == "b") {
		q15 = ['', 'checked="checked"', '', '']
	} else if (answercode[14] == "c") {
		q15 = ['', '', 'checked="checked"', '']
	} else if (answercode[14] == "d") {
		q15 = ['', '', '', 'checked="checked"']
	}
	
	if (answercode[15] == "a") {
		q16 = ['checked="checked"', '', '', '']
	} else if (answercode[15] == "b") {
		q16 = ['', 'checked="checked"', '', '']
	} else if (answercode[15] == "c") {
		q16 = ['', '', 'checked="checked"', '']
	} else if (answercode[15] == "d") {
		q16 = ['', '', '', 'checked="checked"'] 
	}
	
	//201683: b;a;c;!modlogs;!mute;!kick;!warnings;!ban;!warn;!unwarn;a;c;a;b;a;d
	//var qpop = ["X", "✅", "✅", "✅", "✅", "❎", "❎", "✅", "❎", "✅", "✅", "❎", "✅", "❎", "❎", "❎", "✅"]
	var win = window.open("", "Title", "toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes");
	
	win.document.body.innerHTML = '<html> <head> <link rel="preconnect" href="https://fonts.gstatic.com"> <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet"> </head> <body> <style> h1 { font-family: "Lato", sans-serif; font-size: 50px; color: #1e6c93; margin: 0px; } h2 { font-family: "Lato", sans-serif; font-size: 30px; color: #1e6c93; margin: 0px; } h3 { font-family: "Lato", sans-serif; font-size: 20px; color: #1e6c93; margin: 0px; } p { font-family: "Lato", sans-serif; font-size: 15px; color: #808080; margin: 0px; cursor: pointer; } a { text-decoration: none; } .starting-button { padding: 17px; font-size: 30px; border-width: 0px; border-color: #CCCCCC; background-color: #1e6c93; color: #ffffff; border-style: hidden; border-radius: 30px; box-shadow: 0px 0px 9px rgba(66,66,66,.37); text-shadow: 0px 0px 0px rgba(66,66,66,.0); cursor: pointer; } .starting-button:focus { outline:none; } .form-input { padding: 17px; font-size: 17px; border-width: 0px; border-color: #CCCCCC; background-color: #FFFFFF; color: #000000; border-style: none; border-radius: 12px; box-shadow: 0px 0px 9px rgba(66,66,66,.37); text-shadow: 0px 0px 0px rgba(66,66,66,.0); width: 300px; height: 60px; } .form-input:focus { outline:none; } .next-button { padding: 23px; font-size: 20px; border-width: 0px; border-color: #CCCCCC; background-color: #1e6c93; color: #ffffff; border-style: hidden; border-radius: 12px; box-shadow: 0px 0px 9px rgba(66,66,66,.37); text-shadow: 0px 0px 0px rgba(66,66,66,.0); cursor: pointer; float: right; } .next-button:focus { outline:none; } .form-textarea { resize: none; overflow: hidden; padding: 17px; font-size: 17px; border-width: 0px; border-color: #CCCCCC; background-color: #FFFFFF; color: #000000; border-style: hidden; border-radius: 12px; box-shadow: 0px 0px 9px rgba(66,66,66,.37); text-shadow: 0px 0px 0px rgba(66,66,66,.0); width: 40%; } .form-textarea:focus { outline:none; } .back-button { padding: 23px; font-size: 20px; border-width: 0px; border-color: #CCCCCC; background-color: #bfbfbf; color: #808080; border-style: hidden; border-radius: 12px; box-shadow: 0px 0px 9px rgba(66,66,66,.37); text-shadow: 0px 0px 0px rgba(66,66,66,.0); cursor: pointer; float: left; } .back-button:focus { outline:none; } /* The container */ .container { display: block; position: relative; padding-left: 25px; margin-bottom: 12px; cursor: pointer; font-size: 22px; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; font-family: "Lato", sans-serif; font-size: 17px; } </style>'+'<h1>Test rekrutacyjny</h1><h2>Wynik nr '+testid+'</h2><h2 style="text-align: right;">'+qpop[0]+'/100p.</h2></br></br></br></br><form onsubmit="return showResults()"> <h3>1. Z jakiego bota korzysta administracja na serwerze SEEBIXOLANDIA? '+qpop[1]+'</h3></br> <select name="q1" class="form-input" disabled> <option value="n" selected disabled hidden>- wybierz -</option> <option value="a" '+q1[0]+'>MEE6</option> <option value="b" '+q1[1]+'>Dyno</option> <option value="c" '+q1[2]+'>YAGPDB.xyz</option> </select> </br></br><h3 id="q2">2. Serwerowym prefixem stosowanym do bota wybranego w pytaniu nr 1 jest: '+qpop[2]+'</h3></br> <label class="container">! <input type="radio" id="q2a" name="q2" '+q2[0]+' disabled> <span class="checkmark"></span> </label> <label class="container">- <input type="radio" id="q2b" name="q2" '+q2[1]+' disabled> <span class="checkmark"></span> </label> <label class="container">? <input type="radio" id="q2c" name="q2" '+q2[2]+' disabled> <span class="checkmark"></span> </label> </br><h3>3. Która z poniższych komend służy do nadawania ostrzeżeń? '+qpop[3]+'</h3></br> <label class="container">kick <input type="radio" id="q3a" name="q3" '+q3[0]+' disabled> <span class="checkmark"></span> </label> <label class="container">notify <input type="radio" id="q3b" name="q3" '+q3[1]+' disabled> <span class="checkmark"></span> </label> <label class="container">warn <input type="radio" id="q3c" name="q3" '+q3[2]+' disabled> <span class="checkmark"></span> </label> </br><h3>4. Dzięki jakiej komendzie uzyskamy następujący rezultat? '+qpop[4]+'</h3> <a href="https://i.imgur.com/Zn7DnJ7.png" target="_blank"><p>Kliknij tutaj, aby wyświetlić zdjęcie</p></a></br> <input type="text" class="form-input" name="q4" title="Wprowadź komendę" value='+answercode[3]+' autocomplete="off" required disabled/> </br></br><h3>5. Za pomocą jakiej komendy możesz wyciszyć użytkownika? '+qpop[5]+'</h3></br> <input type="text" class="form-input" name="q5" title="Wprowadź komendę" autocomplete="off" value='+answercode[4]+' required disabled/> </br></br><h3>6. Za pomocą jakiej komendy możesz wyrzucić użytkownika z serwera? '+qpop[6]+'</h3></br> <input type="text" class="form-input" name="q6" title="Wprowadź komendę" autocomplete="off" value='+answercode[5]+' required disabled/> </br></br><h3>7. Za pomocą jakiej komendy możesz sprawdzić wszystkie ostrzeżenia użytkownika? '+qpop[7]+'</h3></br> <input type="text" class="form-input" name="q7" title="Wprowadź komendę" autocomplete="off" value='+answercode[6]+' required disabled/> </br></br><h3>8. Za pomocą jakiej komendy możesz zbanować użytkownika? '+qpop[8]+'</h3></br> <input type="text" class="form-input" name="q8" title="Wprowadź komendę" autocomplete="off" value='+answercode[7]+' required disabled/> </br></br><h3>9. Za pomocą jakiej komendy możesz nadać ostrzeżenie użytkownikowi? '+qpop[9]+'</h3></br> <input type="text" class="form-input" name="q9" title="Wprowadź komendę" autocomplete="off" value='+answercode[8]+' required disabled/> </br></br><h3>10. Za pomocą jakiej komendy możesz usunąć wcześniej nadane ostrzeżenie? '+qpop[10]+'</h3></br> <input type="text" class="form-input" name="q10" title="Wprowadź komendę" autocomplete="off" value='+answercode[9]+' required disabled/> </br></br><h3>11. Składnia w komendzie do wyciszania składa się następująco z: '+qpop[11]+'</h3></br> <label class="container">wzmianki, czasu wyciszenia, ewentualnego powodu <input type="radio" id="q11a" name="q11" '+q11[0]+' disabled> <span class="checkmark"></span> </label> <label class="container">czasu wyciszenia, wzmianki, ewentualnego powodu <input type="radio" id="q11b" name="q11" '+q11[1]+' disabled> <span class="checkmark"></span> </label> <label class="container">ewentualnego powodu, wzmianki, czasu wyciszenia <input type="radio" id="q11c" name="q11" '+q11[2]+' disabled> <span class="checkmark"></span> </label> </br></br><h3>12. Składnia w komendzie do usuwania ostrzeżeń składa się nastepująco z: '+qpop[12]+'</h3></br> <label class="container">wzmianki, powodu nadanego ostrzeżenia <input type="radio" id="q12a" name="q12" '+q12[0]+' disabled> <span class="checkmark"></span> </label> <label class="container">wzmianki <input type="radio" id="q12b" name="q12" '+q12[1]+' disabled> <span class="checkmark"></span> </label> <label class="container">ID ostrzeżenia <input type="radio" id="q12c" name="q12" '+q12[2]+' disabled> <span class="checkmark"></span> </label> </br></br><h3>13. Składnia w komendach do wyrzucania oraz banowania składa się następująco z: '+qpop[13]+'</h3></br> <label class="container">wzmianki, ewentualnego powodu <input type="radio" id="q13a" name="q13" '+q13[0]+' disabled> <span class="checkmark"></span> </label> <label class="container">ewentualnego powodu, wzmianki <input type="radio" id="q13b" name="q13" '+q13[1]+' disabled> <span class="checkmark"></span> </label> </br></br><h3>14. Użytkownik podszywa się pod innego użytkownika. Poprosiłeś/aś go o zmianę nazwy użytkownika/avataru bezskutecznie. Co robisz? '+qpop[14]+'</h3></br> <label class="container">Banuję <input type="radio" id="q14a" name="q14" '+q14[0]+' disabled> <span class="checkmark"></span> </label> <label class="container">Wyrzucam z serwera <input type="radio" id="q14b" name="q14" '+q14[1]+' disabled> <span class="checkmark"></span> </label> <label class="container">Nadaję ostrzeżenie <input type="radio" id="q14c" name="q14" '+q14[2]+' disabled> <span class="checkmark"></span> </label> <label class="container">Wyciszam na 1h <input type="radio" id="q14d" name="q14" '+q14[3]+' disabled> <span class="checkmark"></span> </label> </br></br><h3>15. Użytkownik wysyła memy na kanale ogólnym mimo upomnień o nieużywanie kanałów zgodnie z ich przeznaczeniem. Co robisz? '+qpop[15]+'</h3></br> <label class="container">Nadaję ostrzeżenie, jeśli się nie poprawi wyciszam na 5/10/30 minut <input type="radio" id="q15a" name="q15" '+q15[0]+' disabled> <span class="checkmark"></span> </label> <label class="container">Nadaję ostrzeżenie, jeśli się nie poprawi - wyrzucam z serwera <input type="radio" id="q15b" name="q15" '+q15[1]+' disabled> <span class="checkmark"></span> </label> <label class="container">Wyciszam na 5/10/30 minut, jeśli się nie poprawi - wyrzucam z serwera <input type="radio" id="q15c" name="q15" '+q15[2]+' disabled> <span class="checkmark"></span> </label> <label class="container">Wyrzucam z serwera, jeśli po powrocie się nie poprawi - banuję <input type="radio" id="q15d" name="q15" '+q15[3]+' disabled> <span class="checkmark"></span> </label> </br></br><h3>16. Użytkownik wysyła wiele wiadomości w małym odstępie czasowym. Nikt do tej pory nie zareagował. Co robisz? '+qpop[16]+'</h3></br> <label class="container">Wyciszam <input type="radio" id="q16a" name="q16" '+q16[0]+' disabled> <span class="checkmark"></span> </label> <label class="container">Upominam <input type="radio" id="q16b" name="q16" '+q16[1]+' disabled> <span class="checkmark"></span> </label> <label class="container">Wyrzucam z serwera <input type="radio" id="q16c" name="q16" '+q16[2]+' disabled> <span class="checkmark"></span> </label> <label class="container">Nadaję ostrzeżenie <input type="radio" id="q16d" name="q16" '+q16[3]+' disabled> <span class="checkmark"></span> </label> </br> </form>'+'</br></br><center><p>Ten dokument został wygenerowany automatycznie przez System Rekrutacji Serwerowej</p>'
	win.document.title = 'recruitment_test_result_'+testid;
	return false;
    
}

</script>